<!doctype html>
  <head>
    <title>Cost Split Calculator</title>
  </head>

  <body>
    <section class="container">
      <h2>Cost Spliter</h2>

      <div id="general-split">
          <label for="people">Number of People: </label>
          <input type='number' id="people"/>
      </div>
      
      <div id="percentage-split" style="display: none">
        <label for="first_person"> Name: </label>
          <input type="text" id="first_person"/>
        <label>percentage: </label>
          <input type='number' id="first_percentage"/>% <br/>
        <label for="second_person"> Name: </label>
          <input type="text" id="second_person"/>
        <label>percentage: </label>
          <input type='number' id="second_percentage"/>%
      </div>

      <br/>
      <label for="splitCost">Amount to Distribute: </label>
        <input type='number' id="splitCost"/> <br/> <br/>

      <label>Split By Percentage: </label> 
        <input type="radio" id="radioBtn" value="false" /> <br/> <br/>

      <button id="btn">Split!!</button>
      <p id="textField"></p>
    </section>

    <script>
      const radioBtn = document.getElementById('radioBtn');
      const generalSplit = document.getElementById('general-split');
      const percentageSplit = document.getElementById('percentage-split');
      const noOfPeople = document.getElementById("people");
      const splitCostField = document.getElementById("splitCost");
      const first_person = document.getElementById('first_person');
      const second_person = document.getElementById('second_person');
      const first_percentage = document.getElementById('first_percentage');
      const second_percentage = document.getElementById('second_percentage');
      const button = document.querySelector('button');
      const textField = document.querySelector("#textField");

      radioBtn.addEventListener('click',() => {
        if (radioBtn.value === 'false') {
          radioBtn.value = 'true';
          radioBtn.checked = true;
          percentageSplit.style.display = 'block';
          generalSplit.style.display = 'none';
        } else {
          radioBtn.value = 'false';
          radioBtn.checked = false;
          percentageSplit.style.display = 'none';
          generalSplit.style.display = 'block';
        }
        textField.innerHTML = '';
      });

      button.addEventListener('click', () => {
        if (splitCostField.value) {
          let splitCost = Number(splitCostField.value);
          if (radioBtn.checked) {
            if (first_percentage.value && second_percentage.value) {
              const prcntg1 = Number(first_percentage.value);
              const prcntg2 = Number(second_percentage.value);
              if (prcntg1 + prcntg2 === 100) {
                const person1pay = splitCost*(prcntg1/100);
                const person2pay = splitCost*(prcntg2/100);
                if (first_person.value && second_person.value) {
                  textField.innerHTML = `${first_person.value} - ${prcntg1}% : Will pay Amount ${person1pay} <br/>
                              ${second_person.value} - ${prcntg2}% : Will pay Amount ${person2pay}`;
                } else {
                  textField.innerHTML = `Please enter with whom you want to Split`;
                } 
              } else {
                textField.innerHTML = `The Percents you're entering don't make 100. Please check the entered percentages`;
              }
            } else {
              textField.innerHTML = `Please enter percentage to Split`;
            }
          } else {
            if (noOfPeople.value) {
              const number = Number(noOfPeople.value);
              const indvAmt = splitCost/number;
              textField.innerHTML = `Every person needs to pay ${indvAmt}`;
            } else {
              textField.innerHTML = `Please enter number of people`;
            }
          }
        } else {
          textField.innerHTML = `Please enter an amount to Split`;
        }  
      });
    </script>
  </body>
</html>